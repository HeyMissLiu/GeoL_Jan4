<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>复选框（checkbox）全选/全不选/返选</title>
		<style>
			body,dl,dt,dd,p {
				margin: 0;
				padding: 0;
			}
			body {
				font-family: Tahoma;
				font-size: 12px;
			}
			label,input,a {
				vertical-align: middle;
			}
			label {
				padding: 0 10px 0 5px;
			}
			a {
				color: #09f;
				text-decoration: none;
			}
			a:hover {
				color: red;
			}
			dl {
				width: 120px;
				margin: 10px auto;
				padding: 10px 5px;
				border: 1px solid #666;
				border-radius: 5px;
				background: #fafafa;
			}
			dt {
				padding-bottom: 10px;
				border-bottom: 1px solid #666;
			}
			dt label {
				font-weight: 700;
			}
			p {
				margin-top: 10px;
			}
		</style>
	</head>
	<body>
		<dl>
			<dt>
				<input type="checkbox" id="checkAll" />
				<label>全选</label>
				<a href="javascript:;">反选</a>
			</dt>
			<dd>
				<p>
					<input type="checkbox" name="item" />
					<label>选项（一）</label>
				</p>
				<p>
					<input type="checkbox" name="item" />
					<label>选项（二）</label>
				</p>
				<p>
					<input type="checkbox" name="item" />
					<label>选项（三）</label>
				</p>
				<p>
					<input type="checkbox" name="item" />
					<label>选项（四）</label>
				</p>
				<p>
					<input type="checkbox" name="item" />
					<label>选项（五）</label>
				</p>
				<p>
					<input type="checkbox" name="item" />
					<label>选项（六）</label>
				</p>
				<p>
					<input type="checkbox" name="item" />
					<label>选项（七）</label>
				</p>
				<p>
					<input type="checkbox" name="item" />
					<label>选项（八）</label>
				</p>
				<p>
					<input type="checkbox" name="item" />
					<label>选项（九）</label>
				</p>
				<p>
					<input type="checkbox" name="item" />
					<label>选项（十）</label>
				</p>
			</dd>
		</dl>
		<center>
			1、切换全选/全不选文字；
			<br />
			<br />
			2、根据选中个数更新全选框状态；
		</center>
		<script>
            //找对象
            var checkAll = document.getElementById("checkAll");
            var items = document.getElementsByName("item");
            var content = checkAll.nextElementSibling;
            var rollback = content.nextElementSibling;
            
            checkAll.onclick = function(){
                //三元运算符，判断label的内容是否问全选，如果是输出全不选，如果不是输出全选
                content.innerText = content.innerText == "全选" ? "全不选" : "全选";
                //将所有选项的状态与checkAll保持一致
                for(var i = 0; i < items.length; i++){
                    items[i].checked = this.checked;
                }
            }

            //定义函数，判断是否为全选
            function allcheck(){
                for(var i = 0; i < items.length; i++){
                    if(!items[i].checked){
                        return false;
                    }
                }
                return true;
            }

            //items被点击时，调用函数判断是否为全选
            for(var i = 0; i < items.length; i++){
                items[i].onclick = function(){
                    if(!allcheck()){
                        checkAll.checked = false;
                    }
                    else checkAll.checked = true;
                }
            }

            //当点击反选时，将所有项的checked状态反转，并判断checkAll的状态
            rollback.onclick = function(){
                for(var i = 0; i < items.length; i++){
                    if(items[i].checked) items[i].checked = false;
                    else items[i].checked = true;
                }
                if(!allcheck()){
                        checkAll.checked = false;
                    }
                    else checkAll.checked = true;
            }
        </script>
	</body>
</html>